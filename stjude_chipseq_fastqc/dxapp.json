{
  "name": "stjude_chipseq_fastqc",
  "title": "stjude_chipseq_fastqc",
  "summary": "Generates a QC report on reads data",
  "tags": [
    "Read QC",
    "Statistics"
  ],
  "dxapi": "1.0.0",
  "version": "0.0.13",
  "inputSpec": [
    {
      "name": "reads",
      "label": "Reads",
      "help": "A file containing the reads to be checked. Accepted formats are gzipped-FASTQ and BAM.",
      "class": "file",
      "patterns": ["*.fq.gz", "*.fastq.gz", "*.sam", "*.bam"]
    },
    {
      "name": "parameter_file",
      "label": "file which has parameters passed from other app",
      "class": "file",
      "optional": true,
      "patterns": [
        "*"
      ],
      "help": ""
    },
    {
      "name": "contaminants_txt",
      "label": "Custom contaminants",
      "help": "A special file containing custom contaminant sequences to screen overrepresented sequences against. If left empty, a default set of contaminants that comes with the FastQC package will be used. If provided, this file must be a text file with two tab-delimited columns: name (such as 'Truseq Adapter') and DNA sequence (such as 'TATCTCGTATG').",
      "class": "file",
      "patterns": ["*.fastqc_contaminants.txt"],
      "optional": true
    },
    {
      "name": "adapters_txt",
      "label": "Custom adapters",
      "help": "A special file containing custom adapter sequences which will be explicity searched against the library. If left empty, a default set of adapters that comes with the FastQC package will be used. If provided, this file must be a text file with two tab-delimited columns: name (such as 'Nextera Transposase Sequence') and DNA sequence (such as 'CTGTCTCTTATA').",
      "class": "file",
      "patterns": ["*.fastqc_adapters.txt"],
      "optional": true
    },
    {
      "name": "limits_txt",
      "label": "Custom limits",
      "help": "A special file containing a set of criteria which will be used to determine the warn/error limits for the various modules, or selectively remove some modules from the output altogether. For an example of a limits file, refer to the limits.txt file in the FastQC sources.",
      "class": "file",
      "patterns": ["*.fastqc_limits.txt"],
      "optional": true
    },
    {
      "name": "format",
      "label": "Input format",
      "help": "The format of the input file. By default FastQC will try to automatically detect the format based on the input filename. You can override this by choosing a specific format (fastq, bam, or bam_mapped). For BAM files, choose bam if you want all the entries to be processed, or bam_mapped if you want only the mapped entries to be processed.",
      "class": "string",
      "default": "auto",
      "choices": [
        "auto",
        "fastq",
        "bam",
        "bam_mapped"
      ],
      "group": "Advanced"
    },
    {
      "name": "kmer_size",
      "label": "Kmer size",
      "help": "The kmer size that the kmer analysis module will use. This module reports overrepresented k-mers (sequences of size 'k'). This size must be between 2 and 10 (default is 7).",
      "class": "int",
      "default": 7,
      "group": "Advanced"
    },
    {
      "name": "nogroup",
      "label": "Disable grouping of bases past 50bp?",
      "help": "Disable grouping of bases for reads >50bp. All reports will show data for every base in the read. WARNING: Using this option may cause fastqc to slow down or crash if used on really long reads, and resulting plots may be too large for practical viewing.",
      "class": "boolean",
      "default": true,
      "group": "Advanced"
    },
    {
      "name": "extra_options",
      "label": "Extra command-line options",
      "help": "Extra command-line options that will be passed directly to the fastqc invocation. Example: --nofilter",
      "class": "string",
      "optional": true,
      "group": "Advanced"
    }
  ],
  "outputSpec": [
    {
      "name": "report_html",
      "label": "FastQC Report",
      "help": "An html file archive containing the report as generated by FastQC.",
      "class": "file",
      "patterns": ["*.stats-fastqc.html"]
    },
    {
      "name": "stats_txt",
      "label": "FastQC Stats",
      "help": "A text file containing the machine-readable statistics as generated by FastQC.",
      "class": "file",
      "patterns": ["*.stats-fastqc.txt"]
    }
  ],
  "runSpec": {
    "execDepends": [
      {
        "name": "openjdk-8-jre"
      }
    ],
    "systemRequirements": {
      "main": {
        "instanceType": "azure:mem2_ssd1_x4"
      }
    },
    "file": "src/code.sh",
    "interpreter": "bash",
    "distribution": "Ubuntu",
    "release": "20.04",
    "version": "0"
  },
  "access": {
    "project": "CONTRIBUTE",
    "network": [
      "*"
    ]
  },
  "details": {
    "upstreamUrl": "http://www.bioinformatics.babraham.ac.uk/projects/fastqc/",
    "upstreamVersion": "0.11.3",
    "upstreamLicenses": [
      "GPLv3"
    ],
    "upstreamAuthor": "Simon Andrews",
    "whatsNew": "* 2.2.0: Updated to FastQC 0.11.3; changed default instance type\n* 2.1.0: Updated to FastQC 0.11.2; changed default values for the 'kmer_size' and 'nogroup' parameters\n* 2.0.1: Fixed error when mid line is null\n* 2.0.0: Changing output spec to TXT and HTML files"
  },
  "authorizedUsers": ["org-stjude_cloud", "org-stjude_cloud_app_runners"],
  "openSource": false
}
